<!DOCTYPE html>
<html lang="en" class="govuk-template">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Accessible HM Government brand colours</title>
    <link rel="stylesheet" href="{{ '/govuk-frontend-4.6.0.min.css' | url }}">
    <style>
      .app-width-container { max-width: 1110px; }
      .app-table { font-size: 14px; font-family: system-ui, sans-serif; text-align: left; }
      .app-cell-defunct { color: #757575; }
      .app-cell-colour { padding-inline: 10px; font-variant-numeric: tabular-nums; color: var(--c); background-color: var(--bg); }
      .app-cell-colour + :not(.app-cell-colour) { padding-left: 20px; }
      .app-cell-ratio { font-variant-numeric: tabular-nums; text-align: right; }
    </style>
  </head>
  <body class="govuk-template__body govuk-!-padding-top-9 govuk-!-padding-bottom-9">
    <div class="govuk-width-container app-width-container">
      <h1 class="govuk-heading-xl">Accessible HM Government brand colours</h1>
      <p class="govuk-body-l">Ministerial departments and high offices* of HM Government that have existed between 2010 and the current day, with their brand colours and automatically generated <abbr title="Web Content Accessibility Guidelines">WCAG</abbr> Level AA and <abbr title="Accessible Perceptual Contrast Algorithm">APCA</abbr> compliant variants.**</p>
      <p class="govuk-body-s">* Also HMRC and the Serious Fraud Office.<br>** When used on a white background.</p>
      <table class="govuk-table app-table">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header">Organisation name</th>
            <th scope="col" class="govuk-table__header app-cell-colour" style="width: 8em;">Brand</th>
            <th scope="col" class="govuk-table__header app-cell-colour" style="width: 8em;">WCAG AA<br>&#8805;4.5</th>
            <th scope="col" class="govuk-table__header app-cell-colour" style="width: 8em;">WCAG AAA<br>&#8805;7.0</th>
            <th scope="col" class="govuk-table__header app-cell-colour" style="width: 8em;">APCA &#8805;75<br>18px, 400</th>
            <th scope="col" class="govuk-table__header app-cell-colour" style="width: 8em;">APCA &#8805;90<br>16px, 400</th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          {% for key, data in orgs %}
            {% set c = data.colour %}
            {% set aa = makeWCAGContrastSafe(c, "#ffffff", 4.5) %}
            {% set aaa = makeWCAGContrastSafe(c, "#ffffff", 7) %}
            {% set apca1 = makeAPCAContrastSafe(c, "#ffffff", 75) %}
            {% set apca2 = makeAPCAContrastSafe(c, "#ffffff", 90) %}
            {% set cols = [aa, aaa, apca1, apca2] %}
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header {%- if data.end %} app-cell-defunct{% endif %}">
                {{ data.name }}
                {% if data.unconfirmed %} (<abbr title="To Be Confirmed">TBC</abbr>){% endif %}
                {% if data.start or data.end %}<br>({{ data.start }}&ndash;{{ data.end }}){% endif %}
              </th>
              <td class="govuk-table__cell app-cell-colour" style="--bg: {{ c }}; --c: {{ blackOrWhite(c) }};">
                <strong>{{ c | upper }}</strong>
              </td>
              {% for col in cols %}
                <td class="govuk-table__cell app-cell-colour" style="--bg: {{ col.colour }}; --c: {{ col.original.c2 }};">
                  <strong>{{ col.colour | upper }}</strong>
                  <br>{{ col.contrastRatio | round(2) }} ({{ col.score }})
                </td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </body>
</html>
